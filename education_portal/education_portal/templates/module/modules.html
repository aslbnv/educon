{% extends 'base.html' %}
{% load static %}

{% block content  %}
<div class="section ">
    <h4>{{ course.title }}</h4>
    <div class="divider"></div>
</div>

<div class="row">
    <div class="col s3">
        <ul class="collection with-header">
            <li class="collection-header"><h4>Разделы</h4></li>
            <a href="{% url 'course' course.id %}" class="collection-item blue-text text-darken-4">Главная</a>
            <a href="{% url 'modules' course.id %}" class="collection-item active blue darken-4">Модули</a>
            <a href="#!" class="collection-item blue-text text-darken-4">Материалы</a>
            <a href="#!" class="collection-item blue-text text-darken-4">Вопросы</a>
        </ul>
    </div>

    <div class="col s9">
        {% if teacher_mode == True %}
        <a href="{% url 'new-module' course.id %}" class="btn-small blue darken-4 right">+ Добавить новый модуль</a>
        {% endif %}

        <div class="section ">
            <h4>Модули курса</h4>
            <ul class="collapsible">
                {% for module in course.modules.all %}
                <li>
                    <div class="collapsible-header"><i class="material-icons">expand_more</i>
                        {{ module.title }}
                    </div>

                    <div class="collapsible-body">
                        {% if teacher_mode == True %}
                        <a href="{% url 'new-page' course.id module.id %}" class="btn-small blue darken-4">+ Добавить
                            новую
                            страницу</a>
                        <a href="" class="btn-small blue darken-4">+ Добавить новый тест</a>
<!--                        <a href="" class="btn-small blue darken-4">+ Добавить новое задание</a>-->
                        {% endif %}

                        <div class="collection">
                            <br>
                            {% for page in module.pages.all %}
                            <a href="{% url 'page-detail' course.id module.id page.id %}"
                               class="collection-item blue-text text-darken-4">
                                <!--                                <i class="material-icons">segment</i>-->
                                §
                                {{ page.title }}
                                <div class="secondary-content black-text">
                                    Пройдено:
                                    ○
                                </div>
                            </a>
                            {% endfor %}
                        </div>
                    </div>
                </li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}